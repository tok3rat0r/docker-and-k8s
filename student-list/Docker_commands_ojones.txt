This is a Docker training exercise based on the Git repository at https://github.com/diranetafen/student-list

The following procedure was used to complete the exercise:

1. First, the Dockerfile found in /simple-api was written.
2. Next, the Docker image was built with the command "docker build -t pozos-api ."
3. Then, the Docker image was run as a container using "docker run --name pozos-api -d -p 5000:5000 -v $pwd/student_age.json:/data/student_age.json pozos-api"
4. Running the given curl command, we see the expected response:

$ curl -u toto:python -X GET http://localhost:5000/pozos/api/v1.0/get_student_ages
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    64  100    64    0     0   4102      0 --:--:-- --:--:-- --:--:--  4571{
  "student_ages": {
    "alice": "12",
    "bob": "13"
  }
}

6. For the next part, we first get the required PHP image with "docker pull php:apache"
7. The docker-compose.yml file in this directory was then written.
8. Using "docker-compose up", we see that the services started (albeit with warnings):

PS C:\Users\owenm\Documents\SelfStudy\docker-and-k8s\student-list> docker-compose up
Creating network "student-list_app-network" with the default driver
Creating student-list_api_1 ... done
Creating student-list_website_1 ... done
Attaching to student-list_api_1, student-list_website_1
api_1      |  * Serving Flask app "student_age" (lazy loading)
api_1      |  * Environment: production
api_1      |    WARNING: This is a development server. Do not use it in a production deployment.
api_1      |    Use a production WSGI server instead.
api_1      |  * Debug mode: on
api_1      |  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
api_1      |  * Restarting with stat
api_1      |  * Debugger is active!
api_1      |  * Debugger PIN: 253-831-458
website_1  | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.18.0.3. Set the 'ServerName' directive globally to suppress this message
website_1  | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.18.0.3. Set the 'ServerName' directive globally to suppress this message
website_1  | [Fri Aug 06 20:26:31.146211 2021] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.38 (Debian) PHP/8.0.9 configured -- resuming normal operations
website_1  | [Fri Aug 06 20:26:31.146332 2021] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND'

9. Unfortunately the PHP function 'file_get_contents' fails to communicate with the API, as seen in the screenshot in this folder.
10. I rebuilt with Alpine, and connected to Alpine to test the curl command from step 4 but with 'pozos-api' instead of 'localhost'.
11. This curl command works as expected, showing that the problem is with PHP.
12. Exposing the external port 5000 and trying to connect to http://localhost:5000 in the PHP script also fails.